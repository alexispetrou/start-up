<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Prime Properties - Βρείτε το ιδανικό σας σπίτι. Περιήγηση σε όλα τα διαθέσιμα ακίνητα.">
    <title>Prime Properties | Ακίνητα</title>
    <link rel="stylesheet" href="../css/properties.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #f39c12;
            --accent-color: #e67e22;
            --text-color: #333;
            --light-bg: #f9f9f9;
            --white: #ffffff;
            --dark-gray: #7f8c8d;
            --success-color: #2ecc71;
            --info-color: #3498db;
            --warning-color: #f1c40f;
            --danger-color: #e74c3c;
        }

        .map-search-container {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .map-container {
            flex: 2;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .search-filters {
            flex: 1;
            background-color: var(--white);
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .search-filters h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        @media (max-width: 992px) {
            .map-search-container {
                flex-direction: column;
            }
            
            .map-container {
                order: 1;
            }
            
            .search-filters {
                order: 2;
            }
        }

        /* Rest of your existing CSS remains the same */
    </style>
</head>
<body>
    <!-- Top Panel -->
    <header class="top-panel" role="banner">
        <div class="top-panel-container">
            <div class="contact-info" aria-label="Στοιχεία επικοινωνίας">
                <a href="tel:+306949363655" aria-label="Τηλεφωνήστε μας"><i class="fas fa-phone" aria-hidden="true"></i> 6949363655</a>
                <a href="mailto:alexisptr204@gmail.com" aria-label="Στείλτε μας email"><i class="fas fa-envelope" aria-hidden="true"></i> alexisptr204@gmail.com</a>
                <a href="https://maps.google.com/?q=Karaoli ke Dimitriou 80, Pireas 185 34" target="_blank" rel="noopener" aria-label="Δείτε τη τοποθεσία μας στον χάρτη"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> Karaoli ke Dimitriou 80, Pireas 185 34</a>
            </div>
            <div class="social-links" aria-label="Κοινωνικά δίκτυα">
                <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                <a href="#" aria-label="Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                <a href="#" aria-label="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
                <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
            </div>
        </div>
    </header>
    
    <!-- Main Navigation -->
    <nav class="main-nav" role="navigation" aria-label="Κύρια πλοήγηση">
        <div class="nav-container">
            <a href="index.html" class="logo" aria-label="Αρχική σελίδα">My<span>Home</span></a>
            <ul class="nav-links">
                <li><a href="homepage.html">Αρχική</a></li>
                <li><a href="properties.html">Ακίνητα</a></li>
                <li><a href="#">Σχετικά με εμάς</a></li>
                <li><a href="#">Επικοινωνία</a></li>
                <li><a href="login.html" class="cta-button">Σύνδεση</a></li>
            </ul>
            <button class="mobile-menu-button" aria-label="Μενού" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content" role="main">
        <div class="map-search-container">
            <!-- Map on the left -->
            <div class="map-container">
                <div id="property-map" style="height: 600px; width: 100%;"></div>
            </div>
            
            <!-- Search filters on the right -->
            <div class="search-filters">
                <h1>Φίλτρα Αναζήτησης</h1>
                <form class="search-form" role="search">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="location">Τοποθεσία</label>
                            <select id="location">
                                <option value="">Όλες οι περιοχές</option>
                                <option value="dimitriou">Δημοτικό Θέατρο</option>
                                <option value="mikrolimano">Μικρολίμανο</option>
                                <option value="maniatika">Μανιάτικα</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="type">Τύπος</label>
                            <select id="type">
                                <option value="">Όλοι οι τύποι</option>
                                <option value="apartment">Διαμέρισμα</option>
                                <option value="house">Οικογενειακή κατοικία</option>
                                <option value="studio">Στούντιο</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="price-min">Τιμή από (€)</label>
                            <select id="price-min">
                                <option value="">Ελάχιστη τιμή</option>
                                <option value="200">200 €</option>
                                <option value="300">300 €</option>
                                <option value="400">400 €</option>
                                <option value="500">500 €</option>
                                <option value="600">600 €</option>
                                <option value="700">700 €</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="price-max">Τιμή έως (€)</label>
                            <select id="price-max">
                                <option value="">Μέγιστη τιμή</option>
                                <option value="600">600 €</option>
                                <option value="700">700 €</option>
                                <option value="800">800 €</option>
                                <option value="900">900 €</option>
                                <option value="1000">1000 €</option>
                                <option value="1001">1000+ €</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="search-button">
                        <i class="fas fa-search"></i> Αναζήτηση
                    </button>
                </form>
            </div>
        </div>

        <section class="properties-section" aria-labelledby="properties-title">
            <div class="section-header">
                <h2 id="properties-title">Διαθέσιμα Ακίνητα</h2>
                <p class="results-count">Βρέθηκαν <span id="properties-count">8</span> ακίνητα</p>
            </div>
            
            <div class="properties-grid" id="properties-container">
                <!-- Properties will be loaded here by JavaScript -->
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="main-footer" role="contentinfo">
        <div class="footer-container">
            <div class="footer-section">
                <h3>MyHome</h3>
                <p>Βρείτε το ιδανικό σας σπίτι με την βοήθεια των ειδικών μας.</p>
            </div>
            <div class="footer-section">
                <h3>Γρήγοροι Σύνδεσμοι</h3>
                <ul>
                    <li><a href="homepage.html">Αρχική</a></li>
                    <li><a href="properties.html">Ακίνητα</a></li>
                    <li><a href="about.html">Σχετικά με εμάς</a></li>
                    <li><a href="contact.html">Επικοινωνία</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Επικοινωνία</h3>
                <address>
                    Karaoli ke Dimitriou 80<br>
                    Pireas 185 34<br>
                    <a href="tel:+306949363655">6949363655</a><br>
                    <a href="mailto:alexisptr204@gmail.com">alexisptr204@gmail.com</a>
                </address>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 MyHome. Όλα τα δικαιώματα διατηρούνται.</p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Property data
        const properties = [
            { 
                title: "Διαμέρισμα στο Δημοτικό θέατρο",
                image_link: "https://m3.spitogatos.gr/317741837_300x220.jpg?v=20130730",
                price: "600",
                size: 65,
                year: 2006,
                location: "dimitriou",
                type: "apartment",
                bedrooms: 2,
                bathrooms: 1,
                lat: 37.9450,
                lng: 23.6430
            },
            { 
                title: "Διαμέρισμα στο Μικρολίμανο",
                image_link: "https://m1.spitogatos.gr/318635769_300x220.jpg?v=20130730",
                price: "400",
                size: 45,
                year: 2002,
                location: "mikrolimano",
                type: "apartment",
                bedrooms: 1,
                bathrooms: 1,
                lat: 37.9405,
                lng: 23.6550
            },
            { 
                title: "Διαμέρισμα στο Δημοτικό θέατρο",
                image_link: "https://m2.spitogatos.gr/311467849_300x220.jpg?v=20130730",
                price: "700",
                size: 62,
                year: 2016,
                location: "dimitriou",
                type: "apartment",
                bedrooms: 2,
                bathrooms: 1,
                lat: 37.9450,
                lng: 23.6430
            },
            { 
                title: "Διαμέρισμα στα Μανιάτικα",
                image_link: "https://m1.spitogatos.gr/294492630_300x220.jpg?v=20130730",
                price: "500",
                size: 55,
                year: 2010,
                location: "maniatika",
                type: "apartment",
                bedrooms: 1,
                bathrooms: 1,
                lat: 37.9380,
                lng: 23.6350
            },
            { 
                title: "Διαμέρισμα στο Δημοτικό θέατρο",
                image_link: "https://m2.spitogatos.gr/317826253_900x675.jpg?v=20130730",
                price: "360",
                size: 35,
                year: 1997,
                location: "dimitriou",
                type: "studio",
                bedrooms: 0,
                bathrooms: 1,
                lat: 37.9450,
                lng: 23.6430
            },
            { 
                title: "Διαμέρισμα στο Δημοτικό θέατρο",
                image_link: "https://m3.spitogatos.gr/317821754_900x675.jpg?v=20130730",
                price: "900",
                size: 75,
                year: 2017,
                location: "dimitriou",
                type: "apartment",
                bedrooms: 3,
                bathrooms: 2,
                lat: 37.9450,
                lng: 23.6430
            },
            { 
                title: "Διαμέρισμα στο Δημοτικό θέατρο",
                image_link: "https://m2.spitogatos.gr/318495127_300x220.jpg?v=20130730",
                price: "560",
                size: 65,
                year: 1997,
                location: "dimitriou",
                type: "apartment",
                bedrooms: 2,
                bathrooms: 1,
                lat: 37.9450,
                lng: 23.6430
            },
            { 
                title: "Διαμέρισμα στο Δημοτικό θέατρο",
                image_link: "https://m2.spitogatos.gr/317238883_300x220.jpg?v=20130730",
                price: "1000",
                size: 95,
                year: 2017,
                location: "dimitriou",
                type: "apartment",
                bedrooms: 3,
                bathrooms: 2,
                lat: 37.9450,
                lng: 23.6430
            }
        ];

        // Initialize Leaflet map
        const map = L.map('property-map').setView([37.9420, 23.6462], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        // Add markers to map
        function addMarkers(propertiesToShow) {
            // Clear existing markers
            map.eachLayer(layer => {
                if (layer instanceof L.Marker) {
                    map.removeLayer(layer);
                }
            });

            // Add new markers
            propertiesToShow.forEach(property => {
                L.marker([property.lat, property.lng])
                    .addTo(map)
                    .bindPopup(`<b>${property.title}</b><br>Τιμή: ${property.price}€`);
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Load properties
            const container = document.getElementById('properties-container');
            
            function loadProperties(filteredProperties = properties) {
                container.innerHTML = '';
                document.getElementById('properties-count').textContent = filteredProperties.length;
                
                filteredProperties.forEach(property => {
                    const card = document.createElement('article');
                    card.className = 'property-card';
                    card.innerHTML = `
                        <div class="property-image">
                            <img src="${property.image_link}" alt="${property.title}" loading="lazy">
                            <span class="property-tag">${property.type === 'apartment' ? 'Διαμέρισμα' : 
                              property.type === 'house' ? 'Οικία' : 'Στούντιο'}</span>
                            <button class="favorite-button" aria-label="Προσθήκη στα αγαπημένα">
                                <i class="far fa-heart"></i>
                            </button>
                        </div>
                        <div class="property-details">
                            <h3>${property.title}</h3>
                            <div class="property-price">${property.price} €</div>
                            <div class="property-address">Πειραιάς</div>
                            <div class="property-features">
                                <span><i class="fas fa-ruler-combined"></i> ${property.size} τ.μ.</span>
                                <span><i class="fas fa-bed"></i> ${property.bedrooms}</span>
                                <span><i class="fas fa-bath"></i> ${property.bathrooms}</span>
                                <span><i class="fas fa-calendar-alt"></i> ${property.year}</span>
                            </div>
                            <button class="view-details" onclick="viewDetails('${property.title}', '${property.image_link}', '${property.price}', ${property.size}, ${property.year})">
                                Περισσότερες πληροφορίες
                            </button>
                        </div>
                    `;
                    container.appendChild(card);
                });

                // Update map markers
                addMarkers(filteredProperties);
            }

            // Initial load
            loadProperties();

            // Search form functionality
            const searchForm = document.querySelector('.search-form');
            searchForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const location = document.getElementById('location').value;
                const type = document.getElementById('type').value;
                const priceMin = document.getElementById('price-min').value;
                const priceMax = document.getElementById('price-max').value;
                
                const filtered = properties.filter(property => {
                    return (!location || property.location === location) &&
                           (!type || property.type === type) &&
                           (!priceMin || parseInt(property.price) >= parseInt(priceMin)) &&
                           (!priceMax || parseInt(property.price) <= parseInt(priceMax));
                });
                
                loadProperties(filtered);
            });

            // Mobile menu toggle
            const menuButton = document.querySelector('.mobile-menu-button');
            const navLinks = document.querySelector('.nav-links');
            
            menuButton.addEventListener('click', function() {
                const expanded = this.getAttribute('aria-expanded') === 'true';
                this.setAttribute('aria-expanded', !expanded);
                navLinks.style.display = expanded ? 'none' : 'flex';
                this.querySelector('i').className = expanded ? 'fas fa-bars' : 'fas fa-times';
            });
        });

        function viewDetails(title, image, price, size, year) {
            const params = new URLSearchParams({
                title: title,
                image: image,
                price: price,
                size: size,
                year: year
            });
            window.location.href = 'seedetails.html?' + params.toString();
        }

        document.addEventListener('click', function (e) {
            if (e.target.classList.contains('favorite-button')) {
                e.target.querySelector('i').classList.toggle('fas');
                e.target.querySelector('i').classList.toggle('far');
            }
        });
    </script>
</body>
</html>